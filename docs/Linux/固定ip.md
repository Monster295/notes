### å›ºå®šUbuntu server 22.04çš„ipåœ°å€

> ä»Ubuntu 22.04å¼€å§‹ï¼Œ`gateway4`å·²è¢«å¼ƒç”¨ï¼Œéœ€è¦ä½¿ç”¨`routes`æ¥å®šä¹‰é»˜è®¤ç½‘å…³ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹ä½ çš„Netplané…ç½®æ–‡ä»¶ã€‚

### **ä¿®æ”¹Netplané…ç½®**

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¾‘ä½ çš„Netplanæ–‡ä»¶ï¼Œæ–‡ä»¶åå¯èƒ½ä¸åŒï¼š

`sudo nano /etc/netplan/01-netcfg.yaml`

å°†`gateway4`æ›¿æ¢ä¸º`routes`ï¼Œä¿®æ”¹åçš„æ–‡ä»¶åº”å¦‚ä¸‹æ‰€ç¤ºï¼š

```yaml
network:
  version: 2
  renderer: networkd
  ethernets:
    ens33:  # è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…ç½‘å¡åç§°
      dhcp4: no
      addresses:
        - 192.168.1.100/24  # ä½ çš„å›ºå®šIP
      routes:
        - to: default
          via: 192.168.1.1  # ä½ çš„ç½‘å…³
      nameservers:
        addresses:
          - 8.8.8.8
          - 8.8.4.4
```

### **åº”ç”¨æ–°é…ç½®**

ä¿å­˜å¹¶é€€å‡ºï¼ˆ`Ctrl + X`ï¼Œç„¶åæŒ‰`Y`ï¼Œå›è½¦ï¼‰ï¼Œç„¶ååº”ç”¨æ›´æ”¹ï¼š

`sudo netplan apply`

æˆ–è€…å…ˆæµ‹è¯•ï¼š

`sudo netplan try`

å¦‚æœæ²¡æœ‰é”™è¯¯ï¼ŒIPåœ°å€åº”è¯¥å·²ç»è¢«æ­£ç¡®è®¾ç½®ã€‚ä½ å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š

`ip a `

`ip route`

è¿™æ ·ï¼Œä½ çš„UbuntuæœåŠ¡å™¨å°±èƒ½æ­£ç¡®ä½¿ç”¨å›ºå®šIPåœ°å€äº†ã€‚ğŸš€
